import base64, os
data = "IiIiCkh5YnJpZFJBRzMgLS0gU2FuaXRpemUgYW5kIFN5bmMgdG8gRWR1Y2F0aW9uYWwgUmVwbwpGSUxFOiB0b29scy9zeW5jX3RvX2VkdWNhdGlvbmFsLnB5CgpXSEFUIFRISVMgRE9FUzoKICAxLiBDb3BpZXMgc291cmNlIGNvZGUgZnJvbSBEOlxcSHlicmlkUkFHMyB0byBEOlxcSHlicmlkUkFHM19FZHVjYXRpb25hbAogIDIuIFN0cmlwcyBkZWZlbnNlL2NvbnRyYWN0b3IvY29ycG9yYXRlL3BlcnNvbmFsIHJlZmVyZW5jZXMKICAzLiBSZXBsYWNlcyBtYWNoaW5lLXNwZWNpZmljIHBhdGhzIHdpdGggcGxhY2Vob2xkZXJzCiAgNC4gV3JpdGVzIGEgY2xlYW4gZWR1Y2F0aW9uYWwgUkVBRE1FCiAgNS4gU2tpcHMgZmlsZXMgdGhhdCBzaG91bGQgbmV2ZXIgYmUgcHVibGljICgudmVudiwgY2FjaGVzLCBBUEkga2V5cywgLmJhaykKClJVTEVTOgogIC0gTm8gImRlZmVuc2UiLCAiY29udHJhY3RvciIsICJOR0MiLCAiTm9ydGhyb3AiLCAiR3J1bW1hbiIsICJjbGFzc2lmaWVkIgogIC0gTm8gIk5JU1QiLCAiRG9EIiwgIkNKQ1NNIiwgIklUQVIiLCAiQ1VJIiwgIkNNTUMiLCAiY2xlYXJhbmNlIgogIC0gTm8gcGVyc29uYWwgcGF0aHMgKEQ6XFxLbm93bGVkZ2VCYXNlLCBDOlxcVXNlcnNcXHJhbmRhamUsIE9uZURyaXZlIC0gTkdDKQogIC0gTm8gbWFjaGluZS1zcGVjaWZpYyBmaWxlcyAoc3RhcnRfaHlicmlkcmFnLnBzMSwgLnZlbnYvLCAubW9kZWxfY2FjaGUvKQogIC0gUkVBRE1FIHNheXMgIkVkdWNhdGlvbmFsIHJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbiIKICAtIEFsbCBjb21tZW50cyBwcmVzZXJ2ZWQgZm9yIGxlYXJuaW5nIChqdXN0IHNjcnViYmVkIG9mIHNlbnNpdGl2ZSB0ZXJtcykKClVTQUdFOiBweXRob24gdG9vbHNcXHN5bmNfdG9fZWR1Y2F0aW9uYWwucHkKICBSdW4gZnJvbSBEOlxcSHlicmlkUkFHMyAodGhlIHByaXZhdGUgcmVwbykKCkNIQU5HRUxPRzoKICAyMDI2LTAyLTE2OiBBZGRlZCAic2NyaXB0cyIgdG8gQ09QWV9ESVJTIChtb2RlbCB3aXphcmQgZmlsZXMpLgogICAgICAgICAgICAgIE1vdmVkIGFwaV9tb2RlX2NvbW1hbmRzLnBzMSBmcm9tIFNLSVAgdG8gQ09QWSAoTkdDIHBhdGhzIHJlbW92ZWQpLgogICAgICAgICAgICAgIEFkZGVkIGhhbGx1Y2luYXRpb25fZ3VhcmQgdG8gU0tJUCAodW52ZXJpZmllZCwgZGVmZXIgdG8gZnV0dXJlIHN5bmMpLgogICAgICAgICAgICAgIEZpeGVkIGZhbHNlLXBvc2l0aXZlIHJlZ2V4OiBOSVNUL0NVSSBub3cgdXNlIFxcYiB3b3JkIGJvdW5kYXJpZXMKICAgICAgICAgICAgICB0byBwcmV2ZW50IGNvcnJ1cHRpbmcgIkFkbWluaXN0cmF0aW9uIiAtPiAiQWRtaXNlY3VyaXR5IHN0YW5kYXJkcmF0aW9uIi4KICAgICAgICAgICAgICBBZGRlZCBzdGFuZGFsb25lICJjbGVhcmFuY2UiIGFuZCAicmFuZGFqZSIgdG8gVEVYVF9SRVBMQUNFTUVOVFMKICAgICAgICAgICAgICAocHJldmlvdXNseSBvbmx5ICJzZWN1cml0eSBjbGVhcmFuY2UiIHdhcyBjYXVnaHQpLgogIDIwMjYtMDItMTc6IFJlcGxhY2VkIDMgc3BlY2lmaWMgdmlydHVhbF90ZXN0IHNraXBzIHdpdGggY2F0Y2gtYWxsICJ2aXJ0dWFsX3Rlc3QiCiAgICAgICAgICAgICAgcHJlZml4IChjYXRjaGVzIGFsbCBjdXJyZW50IGFuZCBmdXR1cmUgdmlydHVhbCB0ZXN0IGZpbGVzKS4KICAgICAgICAgICAgICBBZGRlZCBzeW5jX3RvX2VkdWNhdGlvbmFsLnB5IGl0c2VsZiB0byBTS0lQIChjb250YWlucyBiYW5uZWQgdGVybXMpLgogICAgICAgICAgICAgIEFkZGVkICJDbGF1ZGUiIGFuZCAiQW50aHJvcGljIiB0byBURVhUX1JFUExBQ0VNRU5UUyBhbmQgYmFubmVkIHdvcmRzCiAgICAgICAgICAgICAgKHNlc3Npb24gYXJ0aWZhY3RzIHRoYXQgc2hvdWxkIG5vdCBhcHBlYXIgaW4gZWR1Y2F0aW9uYWwgcmVwbykuCiIiIgppbXBvcnQgb3MKaW1wb3J0IHN5cwppbXBvcnQgc2h1dGlsCmltcG9ydCByZQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDT05GSUdVUkFUSU9OCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpTUkNfUk9PVCA9IHIiRDpcSHlicmlkUkFHMyIKRFNUX1JPT1QgPSByIkQ6XEh5YnJpZFJBRzNfRWR1Y2F0aW9uYWwiCgojIEZvbGRlcnMgdG8gY29weSAocmVsYXRpdmUgdG8gU1JDX1JPT1QpCkNPUFlfRElSUyA9IFsKICAgICJzcmMiLAogICAgInRlc3RzIiwKICAgICJjb25maWciLAogICAgInRvb2xzL3B5IiwKICAgICJkaWFnbm9zdGljcyIsCiAgICAic2NyaXB0cyIsICAgICAgICAgICAgICAjIG1vZGVsIHdpemFyZCAoX3NldF9tb2RlbC5weSwgX21vZGVsX21ldGEucHkpCl0KCiMgSW5kaXZpZHVhbCBmaWxlcyB0byBjb3B5CkNPUFlfRklMRVMgPSBbCiAgICAicmVxdWlyZW1lbnRzLnR4dCIsCiAgICAiLmdpdGlnbm9yZSIsCiAgICAidG9vbHMvbWFzdGVyX3Rvb2xraXQucHMxIiwKICAgICJ0b29scy9fcmVidWlsZF90b29sa2l0LnB5IiwKICAgICJ0b29scy90ZXN0X2FsbF9kaWFnbm9zdGljcy5wczEiLAogICAgInRvb2xzL2FwaV9tb2RlX2NvbW1hbmRzLnBzMSIsICAgIyBjbGVhbmVkIG9mIE5HQyBwYXRoczsgaGFzIHJhZy1zZXQtbW9kZWwKICAgICJzdGFydC5jbWQiLCAgICAgICAgICAgICAgICAgICAgICMgY3Jvc3MtZW52IGxhdW5jaGVyICh3b3JrcyBvbiByZXN0cmljdGVkIG1hY2hpbmVzKQogICAgInJ1bi5jbWQiLCAgICAgICAgICAgICAgICAgICAgICAgIyBmYWxsYmFjayBsYXVuY2hlciB2aWEgcHl0aG9uIHRvb2xzL3J1bi5weQpdCgojIEZpbGVzL2ZvbGRlcnMgdG8gTkVWRVIgY29weQpTS0lQX1BBVFRFUk5TID0gWwogICAgIi52ZW52IiwKICAgICIuZ2l0IiwKICAgICJfX3B5Y2FjaGVfXyIsCiAgICAiLm1vZGVsX2NhY2hlIiwKICAgICIuaGZfY2FjaGUiLAogICAgIndoZWVscyIsCiAgICAiKi5iYWsiLAogICAgIioucHljIiwKICAgICIqLnB5byIsCiAgICAic3RhcnRfaHlicmlkcmFnLnBzMSIsICAgICAgICAjIG1hY2hpbmUtc3BlY2lmaWMKICAgICJldmFsIGd1aWRlcyIsICAgICAgICAgICAgICAgICAjIGdpdGlnbm9yZWQgcGVyc29uYWwgZm9sZGVyCiAgICAicmVsZWFzZXMiLCAgICAgICAgICAgICAgICAgICAgIyB6aXAgdHJhbnNmZXJzCiAgICAiZGF0YSIsICAgICAgICAgICAgICAgICAgICAgICAgIyBpbmRleGVkIGRhdGEKICAgICJsb2dzIiwgICAgICAgICAgICAgICAgICAgICAgICAjIHJ1bnRpbWUgbG9ncwogICAgInRlbXBfZGlhZyIsICAgICAgICAgICAgICAgICAgICMgdGVtcCBkaWFnbm9zdGljIG91dHB1dAogICAgIndvcmtfdHJhbnNmZXIucHMxIiwgICAgICAgICAgIyBoYXMgTkdDIHBhdGhzCiAgICAiYXp1cmVfYXBpX3Rlc3QucHMxIiwgICAgICAgICAjIGhhcyBOR0MgcGF0aHMKICAgICJmaXhfYXp1cmVfZGV0ZWN0aW9uLnBzMSIsICAgICMgaGFzIE5HQyBwYXRocwogICAgInJlYnVpbHRfcmFnX2NvbW1hbmRzLnBzMSIsICAgIyBoYXMgTkdDIHBhdGhzCiAgICAjIC0tIEhhbGx1Y2luYXRpb24gZ3VhcmQ6IHNraXAgdW50aWwgdmVyaWZpZWQgYW5kIGluc3RhbGxlZCBwcm9wZXJseSAtLQogICAgImhhbGx1Y2luYXRpb25fZ3VhcmQiLCAgICAgICAgICMgZW50aXJlIHNyYy9jb3JlL2hhbGx1Y2luYXRpb25fZ3VhcmQvIHN1YmZvbGRlcgogICAgImd1YXJkX2NvbmZpZy5weSIsICAgICAgICAgICAgICMgZ3VhcmQgZGF0YWNsYXNzIGNvbmZpZwogICAgImZlYXR1cmVfcmVnaXN0cnkucHkiLCAgICAgICAgICMgZmVhdHVyZSB0b2dnbGUgKGd1YXJkIGRlcGVuZGVuY3kpCiAgICAiZ3JvdW5kZWRfcXVlcnlfZW5naW5lLnB5IiwgICAgIyBndWFyZCB3cmFwcGVyIGZvciBxdWVyeSBlbmdpbmUKICAgICJndWFyZF9kaWFnbm9zdGljLnB5IiwgICAgICAgICAjIGd1YXJkIGhlYWx0aCBjaGVjawogICAgInZpcnR1YWxfdGVzdCIsICAgICAgICAgICAgICAgICMgQUxMIHZpcnR1YWwgdGVzdCBmaWxlcyAoY29udGFpbiBDbGF1ZGUvc2Vzc2lvbiByZWZzKQogICAgInN5bmNfdG9fZWR1Y2F0aW9uYWwucHkiLCAgICAgICMgdGhpcyBzY3JpcHQgaXRzZWxmIChjb250YWlucyBiYW5uZWQgdGVybXMgaW4gY29uZmlnKQogICAgInJhZy1mZWF0dXJlcy5wczEiLCAgICAgICAgICAgIyBndWFyZCBQb3dlclNoZWxsIGNvbW1hbmRzCiAgICAiSFlCUklEUkFHM19TRUNVUklUWV9BVURJVF9OSVNUXzgwMF8xNzEubWQiLCAgIyBmdWxsIE5JU1QgYXVkaXQgZG9jCiAgICAiMDFfa25vd2xlZGdlX2Rpc3RpbGxhdGlvbl9maW5ldHVuaW5nX3R1dG9yaWFsLm1kIiwgICMgaGVhdnkgZGVmZW5zZSByZWZzCiAgICAiMDJfdnNjb2RlX2FpX2NvbXBsZXRpb25fY29tcGFyaXNvbi5tZCIsICAjIGRlZmVuc2UgZW52aXJvbm1lbnQgcmVmcwogICAgIjAzX3B5dGhvbl9sZWFybmluZ19jdXJyaWN1bHVtXzEyd2Vla3MubWQiLCAgIyBwZXJzb25hbCBjYXJlZXIgZGV0YWlscwogICAgIioubG5rIiwgICAgICAgICAgICAgICAgICAgICAgICMgV2luZG93cyBzaG9ydGN1dCBmaWxlcyAocGVyc29uYWwvbWFjaGluZS1zcGVjaWZpYykKXQoKIyBUZXh0IHJlcGxhY2VtZW50cyAoY2FzZS1pbnNlbnNpdGl2ZSB3aGVyZSBub3RlZCkKVEVYVF9SRVBMQUNFTUVOVFMgPSBbCiAgICAjIENvcnBvcmF0ZS9kZWZlbnNlIHRlcm1zIC0+IGdlbmVyaWMKICAgIChyImRlZmVuc2VbIC1dP2NvbnRyYWN0b3IiLCAiZW50ZXJwcmlzZSIpLAogICAgKHIiZGVmZW5zZVsgLV0/ZW52aXJvbm1lbnQiLCAicHJvZHVjdGlvbiBlbnZpcm9ubWVudCIpLAogICAgKHIiZGVmZW5zZVsgLV0/aW5kdXN0cnkiLCAiZW50ZXJwcmlzZSIpLAogICAgKHIiZGVmZW5zZVsgLV0/Z3JhZGUiLCAicHJvZHVjdGlvbi1ncmFkZSIpLAogICAgKHIiZGVmZW5zZVsgLV0/c2FmZSIsICJwcm9kdWN0aW9uLXNhZmUiKSwKICAgIChyImRlZmVuc2VbIC1dP3JlYWR5IiwgInByb2R1Y3Rpb24tcmVhZHkiKSwKICAgIChyImRlZmVuc2VbIC1dP2ZyaWVuZGx5IiwgImVudGVycHJpc2UtZnJpZW5kbHkiKSwKICAgIChyImRlZmVuc2VbIC1dP3N1aXRhYmlsaXR5IiwgImVudGVycHJpc2Ugc3VpdGFiaWxpdHkiKSwKICAgIChyIkRlZmVuc2UgZXF1aXZhbGVudDoiLCAiSW5kdXN0cnkgZXF1aXZhbGVudDoiKSwKICAgIChyImRlZmVuc2UiLCAiZW50ZXJwcmlzZSIpLAogICAgKHIiRGVmZW5zZSIsICJFbnRlcnByaXNlIiksCiAgICAociJjb250cmFjdG9yIiwgIm9yZ2FuaXphdGlvbiIpLAogICAgKHIiXGJOR0NcYiIsICJPUkciKSwKICAgIChyIk9uZURyaXZlIC0gT1JHIiwgIk9uZURyaXZlIiksICAjIGNsZWFudXAgYWZ0ZXIgTkdDLT5PUkcgaW4gcGF0aHMKICAgIChyIk5vcnRocm9wIEdydW1tYW4iLCAiT3JnYW5pemF0aW9uIiksCiAgICAociJOb3J0aHJvcCIsICJPcmdhbml6YXRpb24iKSwKICAgIChyIkdydW1tYW4iLCAiT3JnYW5pemF0aW9uIiksCiAgICAociJjbGFzc2lmaWVkIiwgInJlc3RyaWN0ZWQiKSwKICAgIChyIlVOQ0xBU1NJRklFRCIsICJVTlJFU1RSSUNURUQiKSwKICAgIChyImFpclsgLV0/Z2FwcGVkPyIsICJvZmZsaW5lIiksCiAgICAociJhaXJbIC1dP2dhcCIsICJvZmZsaW5lIiksCgogICAgIyBOSVNUL0RvRC9taWxpdGFyeSBzdGFuZGFyZHMgLT4gZ2VuZXJpYwogICAgIyBOT1RFOiBcYiB3b3JkIGJvdW5kYXJpZXMgcHJldmVudCBtYXRjaGluZyBpbnNpZGUgIkFkbWluaXN0cmF0aW9uIgogICAgKHIiXGJOSVNUIFNQIDgwMC0xNzFbXlwiXSoiLCAic2VjdXJpdHkgY29tcGxpYW5jZSBzdGFuZGFyZCIpLAogICAgKHIiXGJOSVNUIDgwMC0xNzFcYiIsICJzZWN1cml0eSBjb21wbGlhbmNlIHN0YW5kYXJkIiksCiAgICAociJcYk5JU1QgODAwLTUzXGIiLCAic2VjdXJpdHkgY29tcGxpYW5jZSBzdGFuZGFyZCIpLAogICAgKHIiXGJOSVNUXGIgSVIiLCAiaW5kdXN0cnkgc3RhbmRhcmQiKSwKICAgIChyIlxiTklTVFxiIiwgInNlY3VyaXR5IHN0YW5kYXJkIiksCiAgICAociJEb0QgQ0pDU00gNjUxMFwuMDFCIiwgImluZHVzdHJ5IHNlY3VyaXR5IGZyYW1ld29yayIpLAogICAgKHIiRG9EIiwgImluZHVzdHJ5IiksCiAgICAociJDSkNTTSIsICJmcmFtZXdvcmsiKSwKICAgIChyIklUQVIiLCAicmVndWxhdG9yeSIpLAogICAgKHIiXGJDVUlcYiIsICJzZW5zaXRpdmUgZGF0YSIpLAogICAgKHIiQ01NQyIsICJjb21wbGlhbmNlIGZyYW1ld29yayIpLAogICAgKHIiQ0FUIElcYiIsICJDcml0aWNhbCIpLAogICAgKHIiQ0FUIElJXGIiLCAiSGlnaCIpLAogICAgKHIiQ0FUIElJSVxiIiwgIk1lZGl1bSIpLAogICAgKHIiQ0FUIElWXGIiLCAiTG93IiksCiAgICAociJNSUwtU1RELVxkKyIsICJpbmR1c3RyeSBzdGFuZGFyZCIpLAogICAgKHIiQVJJTkMgXGQrIiwgImluZHVzdHJ5IHN0YW5kYXJkIiksCiAgICAociJzZWN1cml0eSBjbGVhcmFuY2UiLCAiYWNjZXNzIGF1dGhvcml6YXRpb24iKSwKICAgIChyIlxiY2xlYXJhbmNlXGIiLCAiYXV0aG9yaXphdGlvbiIpLCAgICMgc3RhbmRhbG9uZSAiY2xlYXJhbmNlIiAobm90IGp1c3QgInNlY3VyaXR5IGNsZWFyYW5jZSIpCgogICAgIyBQZXJzb25hbC9tYWNoaW5lIHBhdGhzCiAgICAociJDOlxcVXNlcnNcXHJhbmRhamVcXE9uZURyaXZlIC0gTkdDXFxEZXNrdG9wXFxIeWJyaWRSQUczIiwgIntQUk9KRUNUX1JPT1R9IiksCiAgICAociJDOlxcVXNlcnNcXHJhbmRhamUiLCAie1VTRVJfSE9NRX0iKSwKICAgIChyIlxicmFuZGFqZVxiIiwgIntVU0VSTkFNRX0iKSwgICAgICAgICAjIGNhdGNoIGFueSByZW1haW5pbmcgdXNlcm5hbWUgcmVmZXJlbmNlcwogICAgKHIiT25lRHJpdmUgLSBOR0MiLCAiT25lRHJpdmUiKSwKICAgIChyIkQ6XFxLbm93bGVkZ2VCYXNlIiwgIntLTk9XTEVER0VfQkFTRX0iKSwKICAgIChyIkQ6XFxSQUcgSW5kZXhlZCBEYXRhIiwgIntEQVRBX0RJUn0iKSwKICAgIChyIkQ6XFxSQUcgU291cmNlIERhdGEiLCAie1NPVVJDRV9ESVJ9IiksCiAgICAociJEOlxcSHlicmlkUkFHMyIsICJ7UFJPSkVDVF9ST09UfSIpLAogICAgKHIiRDpcXEh5YnJpZFJBRzIiLCAie1BST0pFQ1RfUk9PVH0iKSwKCiAgICAjIFBlcnNvbmFsIHJlZmVyZW5jZXMKICAgIChyIkplcmVteSIsICJ0aGUgZGV2ZWxvcGVyIiksCiAgICAociJqZXJlbXlzbWlzc2lvbiIsICJ7R0lUSFVCX1VTRVJ9IiksCgogICAgIyBBSSB0b29sIHJlZmVyZW5jZXMgKHNlc3Npb24gYXJ0aWZhY3RzKQogICAgKHIiQ2xhdWRlIiwgIkFJIGFzc2lzdGFudCIpLAogICAgKHIiQW50aHJvcGljIiwgIkFJIHByb3ZpZGVyIiksCl0KCiMgRWR1Y2F0aW9uYWwgUkVBRE1FIGNvbnRlbnQKRURVQ0FUSU9OQUxfUkVBRE1FID0gIiIiIyBIeWJyaWRSQUczIC0tIEVkdWNhdGlvbmFsIFJlZmVyZW5jZSBJbXBsZW1lbnRhdGlvbgoKQW4gZWR1Y2F0aW9uYWwgcmVmZXJlbmNlIGltcGxlbWVudGF0aW9uIG9mIFJldHJpZXZhbC1BdWdtZW50ZWQgR2VuZXJhdGlvbiAoUkFHKQpwYXR0ZXJucyBmb3Igc3R1ZHlpbmcgQUkgZW5naW5lZXJpbmcgY29uY2VwdHMuCgojIyBXaGF0IFRoaXMgSXMKCkEgY29tcGxldGUsIHdvcmtpbmcgUkFHIHN5c3RlbSBidWlsdCBmcm9tIHNjcmF0Y2ggd2l0aDoKLSBaZXJvICJtYWdpYyIgZGVwZW5kZW5jaWVzIChubyBMYW5nQ2hhaW4pCi0gRXh0ZW5zaXZlIGNvZGUgY29tbWVudHMgZXhwbGFpbmluZyBldmVyeSBkZXNpZ24gZGVjaXNpb24KLSBQcm9kdWN0aW9uLWdyYWRlIGFyY2hpdGVjdHVyZSBwYXR0ZXJucwotIEZ1bGwgZGlhZ25vc3RpYyBhbmQgdGVzdGluZyB0b29sa2l0CgojIyBQdXJwb3NlCgpUaGlzIHJlcG9zaXRvcnkgZXhpc3RzIGZvciAqKmVkdWNhdGlvbmFsIHB1cnBvc2VzKiogLS0gdG8gc3R1ZHkgYW5kIGxlYXJuOgotIEhvdyBSQUcgc3lzdGVtcyB3b3JrIGF0IGV2ZXJ5IGxheWVyCi0gUHl0aG9uIGVuZ2luZWVyaW5nIHBhdHRlcm5zIGFuZCBiZXN0IHByYWN0aWNlcwotIFZlY3RvciBkYXRhYmFzZSBkZXNpZ24gd2l0aCBTUUxpdGUgKyBudW1weQotIExMTSBBUEkgaW50ZWdyYXRpb24gKEF6dXJlIE9wZW5BSSwgT2xsYW1hKQotIERpYWdub3N0aWMgYW5kIGZhdWx0IGFuYWx5c2lzIHN5c3RlbXMKLSBTZWN1cml0eS1jb25zY2lvdXMgc29mdHdhcmUgZGVzaWduCgojIyBBcmNoaXRlY3R1cmUKCmBgYApzcmMvCiAgY29yZS8gICAgICAgICAgICMgQ29yZSBSQUcgZW5naW5lCiAgICBpbmRleGVyLnB5ICAgICAgICAjIERvY3VtZW50IGluZ2VzdGlvbiBwaXBlbGluZQogICAgY2h1bmtlci5weSAgICAgICAgIyBUZXh0IHNwbGl0dGluZyB3aXRoIG92ZXJsYXAKICAgIGNodW5rX2lkcy5weSAgICAgICMgRGV0ZXJtaW5pc3RpYyBJRCBnZW5lcmF0aW9uCiAgICBlbWJlZGRlci5weSAgICAgICAjIFNlbnRlbmNlLXRyYW5zZm9ybWVyIGVtYmVkZGluZ3MKICAgIHZlY3Rvcl9zdG9yZS5weSAgICMgU1FMaXRlICsgbnVtcHkgdmVjdG9yIHNlYXJjaAogICAgcmV0cmlldmVyLnB5ICAgICAgIyBIeWJyaWQgcmV0cmlldmFsICh2ZWN0b3IgKyBrZXl3b3JkKQogICAgbGxtX3JvdXRlci5weSAgICAgIyBNdWx0aS1wcm92aWRlciBMTE0gcm91dGluZwogICAgY29uZmlnLnB5ICAgICAgICAgIyBEYXRhY2xhc3MtYmFzZWQgY29uZmlndXJhdGlvbgogIGRpYWdub3N0aWMvICAgICAjIEhlYWx0aCBtb25pdG9yaW5nCiAgdG9vbHMvICAgICAgICAgICMgU3lzdGVtIHV0aWxpdGllcwp0b29scy8KICBweS8gICAgICAgICAgICAgIyBFeHRyYWN0ZWQgUHl0aG9uIHRvb2xraXQgc2NyaXB0cwogIG1hc3Rlcl90b29sa2l0LnBzMSAgIyBQb3dlclNoZWxsIGNvbW1hbmQgaW50ZXJmYWNlCnRlc3RzLyAgICAgICAgICAgICMgVGVzdCBzdWl0ZXMKY29uZmlnLyAgICAgICAgICAgIyBZQU1MIGNvbmZpZ3VyYXRpb24gdGVtcGxhdGVzCmBgYAoKIyMgS2V5IERlc2lnbiBQcmluY2lwbGVzCgoxLiAqKlplcm8gTWFnaWMqKiAtLSBFdmVyeSBvcGVyYXRpb24gaXMgZXhwbGljaXQgYW5kIHRyYWNlYWJsZQoyLiAqKk9mZmxpbmUtRmlyc3QqKiAtLSBXb3JrcyB3aXRob3V0IGludGVybmV0IGJ5IGRlZmF1bHQKMy4gKipBdWRpdGFibGUqKiAtLSBGdWxsIGxvZ2dpbmcsIGRldGVybWluaXN0aWMgYmVoYXZpb3IKNC4gKipNaW5pbWFsIERlcGVuZGVuY2llcyoqIC0tIE9ubHkgd2hhdCdzIG5lZWRlZCwgcGlubmVkIHZlcnNpb25zCjUuICoqUmVhZGFibGUqKiAtLSBFeHRlbnNpdmUgY29tbWVudHMgZm9yIGxlYXJuaW5nCgojIyBTZXR1cAoKYGBgYmFzaApweXRob24gLW0gdmVudiAudmVudgoudmVudlxcU2NyaXB0c1xcYWN0aXZhdGUgICAgIyBXaW5kb3dzCnBpcCBpbnN0YWxsIC1yIHJlcXVpcmVtZW50cy50eHQKYGBgCgpTZWUgYGNvbmZpZy9kZWZhdWx0X2NvbmZpZy55YW1sYCBmb3IgY29uZmlndXJhdGlvbiBvcHRpb25zLgoKIyMgUmVxdWlyZW1lbnRzCgotIFB5dGhvbiAzLjExKwotIH4yMDBNQiBkaXNrIGZvciBkZXBlbmRlbmNpZXMKLSB+ODdNQiBmb3IgZW1iZWRkaW5nIG1vZGVsIChkb3dubG9hZHMgb24gZmlyc3QgcnVuKQotIE9wdGlvbmFsOiBPbGxhbWEgZm9yIGxvY2FsIExMTSBpbmZlcmVuY2UKLSBPcHRpb25hbDogQXp1cmUgT3BlbkFJIEFQSSBmb3IgY2xvdWQgaW5mZXJlbmNlCgojIyBMaWNlbnNlCgpFZHVjYXRpb25hbCBhbmQgcmVzZWFyY2ggdXNlLgoiIiIKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIEhFTFBFUlMKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmRlZiBzaG91bGRfc2tpcChwYXRoKToKICAgICIiIkNoZWNrIGlmIGEgZmlsZS9mb2xkZXIgc2hvdWxkIGJlIHNraXBwZWQuIiIiCiAgICBiYXNlbmFtZSA9IG9zLnBhdGguYmFzZW5hbWUocGF0aCkKICAgIGZvciBwYXR0ZXJuIGluIFNLSVBfUEFUVEVSTlM6CiAgICAgICAgaWYgcGF0dGVybi5zdGFydHN3aXRoKCIqLiIpOgogICAgICAgICAgICBpZiBiYXNlbmFtZS5lbmRzd2l0aChwYXR0ZXJuWzE6XSk6CiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsaWYgYmFzZW5hbWUgPT0gcGF0dGVybiBvciBwYXR0ZXJuIGluIHBhdGg6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICByZXR1cm4gRmFsc2UKCgpkZWYgc2FuaXRpemVfdGV4dCh0ZXh0KToKICAgICIiIkFwcGx5IGFsbCB0ZXh0IHJlcGxhY2VtZW50cyB0byBzYW5pdGl6ZSBjb250ZW50LiIiIgogICAgZm9yIHBhdHRlcm4sIHJlcGxhY2VtZW50IGluIFRFWFRfUkVQTEFDRU1FTlRTOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGV4dCA9IHJlLnN1YihwYXR0ZXJuLCByZXBsYWNlbWVudCwgdGV4dCwgZmxhZ3M9cmUuSUdOT1JFQ0FTRSkKICAgICAgICBleGNlcHQgcmUuZXJyb3I6CiAgICAgICAgICAgICMgRmFsbCBiYWNrIHRvIHNpbXBsZSBzdHJpbmcgcmVwbGFjZQogICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKHBhdHRlcm4sIHJlcGxhY2VtZW50KQogICAgcmV0dXJuIHRleHQKCgpkZWYgY29weV9hbmRfc2FuaXRpemVfZmlsZShzcmNfcGF0aCwgZHN0X3BhdGgpOgogICAgIiIiQ29weSBhIGZpbGUsIHNhbml0aXppbmcgdGV4dCBjb250ZW50LiIiIgogICAgb3MubWFrZWRpcnMob3MucGF0aC5kaXJuYW1lKGRzdF9wYXRoKSwgZXhpc3Rfb2s9VHJ1ZSkKCiAgICAjIEJpbmFyeSBmaWxlcyAtLSBjb3B5IGFzLWlzCiAgICBleHQgPSBvcy5wYXRoLnNwbGl0ZXh0KHNyY19wYXRoKVsxXS5sb3dlcigpCiAgICBpZiBleHQgaW4gWyIucHljIiwgIi5weW8iLCAiLmV4ZSIsICIuZGxsIiwgIi5zbyIsICIuemlwIiwgIi5neiJdOgogICAgICAgIHNodXRpbC5jb3B5MihzcmNfcGF0aCwgZHN0X3BhdGgpCiAgICAgICAgcmV0dXJuICJjb3BpZWQiCgogICAgIyBUZXh0IGZpbGVzIC0tIHNhbml0aXplCiAgICB0cnk6CiAgICAgICAgd2l0aCBvcGVuKHNyY19wYXRoLCAiciIsIGVuY29kaW5nPSJ1dGYtOC1zaWciKSBhcyBmOgogICAgICAgICAgICB0ZXh0ID0gZi5yZWFkKCkKICAgIGV4Y2VwdCAoVW5pY29kZURlY29kZUVycm9yLCBQZXJtaXNzaW9uRXJyb3IpOgogICAgICAgIHNodXRpbC5jb3B5MihzcmNfcGF0aCwgZHN0X3BhdGgpCiAgICAgICAgcmV0dXJuICJjb3BpZWQgKGJpbmFyeSkiCgogICAgc2FuaXRpemVkID0gc2FuaXRpemVfdGV4dCh0ZXh0KQoKICAgIHdpdGggb3Blbihkc3RfcGF0aCwgInciLCBlbmNvZGluZz0idXRmLTgiLCBuZXdsaW5lPSJcbiIpIGFzIGY6CiAgICAgICAgZi53cml0ZShzYW5pdGl6ZWQpCgogICAgY2hhbmdlZCA9IHNhbml0aXplZCAhPSB0ZXh0CiAgICByZXR1cm4gInNhbml0aXplZCIgaWYgY2hhbmdlZCBlbHNlICJjbGVhbiIKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE1BSU4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmRlZiBtYWluKCk6CiAgICBwcmludCgpCiAgICBwcmludCgiICBIeWJyaWRSQUczIC0+IEVkdWNhdGlvbmFsIFN5bmMiKQogICAgcHJpbnQoIiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgcHJpbnQoKQoKICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhTUkNfUk9PVCk6CiAgICAgICAgcHJpbnQoIiAgW0VSUk9SXSBTb3VyY2Ugbm90IGZvdW5kOiAlcyIgJSBTUkNfUk9PVCkKICAgICAgICBzeXMuZXhpdCgxKQoKICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhEU1RfUk9PVCk6CiAgICAgICAgcHJpbnQoIiAgW0VSUk9SXSBEZXN0aW5hdGlvbiBub3QgZm91bmQ6ICVzIiAlIERTVF9ST09UKQogICAgICAgIHByaW50KCIgIENyZWF0ZSBpdCBmaXJzdDogbWtkaXIgJXMiICUgRFNUX1JPT1QpCiAgICAgICAgc3lzLmV4aXQoMSkKCiAgICBzdGF0cyA9IHsiY29waWVkIjogMCwgInNhbml0aXplZCI6IDAsICJza2lwcGVkIjogMH0KCiAgICAjIENvcHkgZGlyZWN0b3JpZXMKICAgIGZvciByZWxfZGlyIGluIENPUFlfRElSUzoKICAgICAgICBzcmNfZGlyID0gb3MucGF0aC5qb2luKFNSQ19ST09ULCByZWxfZGlyKQogICAgICAgIGRzdF9kaXIgPSBvcy5wYXRoLmpvaW4oRFNUX1JPT1QsIHJlbF9kaXIpCgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhzcmNfZGlyKToKICAgICAgICAgICAgcHJpbnQoIiAgW1NLSVBdICVzIChub3QgZm91bmQpIiAlIHJlbF9kaXIpCiAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgIGZvciByb290LCBkaXJzLCBmaWxlcyBpbiBvcy53YWxrKHNyY19kaXIpOgogICAgICAgICAgICAjIEZpbHRlciBvdXQgc2tpcCBkaXJzCiAgICAgICAgICAgIGRpcnNbOl0gPSBbZCBmb3IgZCBpbiBkaXJzIGlmIG5vdCBzaG91bGRfc2tpcChvcy5wYXRoLmpvaW4ocm9vdCwgZCkpXQoKICAgICAgICAgICAgZm9yIGZuYW1lIGluIGZpbGVzOgogICAgICAgICAgICAgICAgc3JjX3BhdGggPSBvcy5wYXRoLmpvaW4ocm9vdCwgZm5hbWUpCiAgICAgICAgICAgICAgICBpZiBzaG91bGRfc2tpcChzcmNfcGF0aCk6CiAgICAgICAgICAgICAgICAgICAgc3RhdHNbInNraXBwZWQiXSArPSAxCiAgICAgICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgICAgICByZWxfcGF0aCA9IG9zLnBhdGgucmVscGF0aChzcmNfcGF0aCwgU1JDX1JPT1QpCiAgICAgICAgICAgICAgICBkc3RfcGF0aCA9IG9zLnBhdGguam9pbihEU1RfUk9PVCwgcmVsX3BhdGgpCgogICAgICAgICAgICAgICAgcmVzdWx0ID0gY29weV9hbmRfc2FuaXRpemVfZmlsZShzcmNfcGF0aCwgZHN0X3BhdGgpCiAgICAgICAgICAgICAgICBpZiAic2FuaXRpemVkIiBpbiByZXN1bHQ6CiAgICAgICAgICAgICAgICAgICAgc3RhdHNbInNhbml0aXplZCJdICs9IDEKICAgICAgICAgICAgICAgICAgICBwcmludCgiICBbU0FOSVRJWkVEXSAlcyIgJSByZWxfcGF0aCkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgc3RhdHNbImNvcGllZCJdICs9IDEKCiAgICAjIENvcHkgaW5kaXZpZHVhbCBmaWxlcwogICAgZm9yIHJlbF9maWxlIGluIENPUFlfRklMRVM6CiAgICAgICAgc3JjX3BhdGggPSBvcy5wYXRoLmpvaW4oU1JDX1JPT1QsIHJlbF9maWxlKQogICAgICAgIGRzdF9wYXRoID0gb3MucGF0aC5qb2luKERTVF9ST09ULCByZWxfZmlsZSkKCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHNyY19wYXRoKToKICAgICAgICAgICAgcHJpbnQoIiAgW1NLSVBdICVzIChub3QgZm91bmQpIiAlIHJlbF9maWxlKQogICAgICAgICAgICBjb250aW51ZQoKICAgICAgICBpZiBzaG91bGRfc2tpcChzcmNfcGF0aCk6CiAgICAgICAgICAgIHN0YXRzWyJza2lwcGVkIl0gKz0gMQogICAgICAgICAgICBjb250aW51ZQoKICAgICAgICByZXN1bHQgPSBjb3B5X2FuZF9zYW5pdGl6ZV9maWxlKHNyY19wYXRoLCBkc3RfcGF0aCkKICAgICAgICBpZiAic2FuaXRpemVkIiBpbiByZXN1bHQ6CiAgICAgICAgICAgIHN0YXRzWyJzYW5pdGl6ZWQiXSArPSAxCiAgICAgICAgICAgIHByaW50KCIgIFtTQU5JVElaRURdICVzIiAlIHJlbF9maWxlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHN0YXRzWyJjb3BpZWQiXSArPSAxCgogICAgIyBDb3B5IHNhZmUgZG9jcyAoc2tpcCB0aGUgb25lcyB3aXRoIGhlYXZ5IGRlZmVuc2UgY29udGVudCkKICAgIGRvY3Nfc3JjID0gb3MucGF0aC5qb2luKFNSQ19ST09ULCAiZG9jcyIpCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhkb2NzX3NyYyk6CiAgICAgICAgZm9yIGZuYW1lIGluIG9zLmxpc3RkaXIoZG9jc19zcmMpOgogICAgICAgICAgICBpZiBzaG91bGRfc2tpcChmbmFtZSk6CiAgICAgICAgICAgICAgICBzdGF0c1sic2tpcHBlZCJdICs9IDEKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIHNyY19wYXRoID0gb3MucGF0aC5qb2luKGRvY3Nfc3JjLCBmbmFtZSkKICAgICAgICAgICAgaWYgb3MucGF0aC5pc2ZpbGUoc3JjX3BhdGgpOgogICAgICAgICAgICAgICAgZHN0X3BhdGggPSBvcy5wYXRoLmpvaW4oRFNUX1JPT1QsICJkb2NzIiwgZm5hbWUpCiAgICAgICAgICAgICAgICByZXN1bHQgPSBjb3B5X2FuZF9zYW5pdGl6ZV9maWxlKHNyY19wYXRoLCBkc3RfcGF0aCkKICAgICAgICAgICAgICAgIGlmICJzYW5pdGl6ZWQiIGluIHJlc3VsdDoKICAgICAgICAgICAgICAgICAgICBzdGF0c1sic2FuaXRpemVkIl0gKz0gMQogICAgICAgICAgICAgICAgICAgIHByaW50KCIgIFtTQU5JVElaRURdIGRvY3MvJXMiICUgZm5hbWUpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHN0YXRzWyJjb3BpZWQiXSArPSAxCgogICAgIyBXcml0ZSBlZHVjYXRpb25hbCBSRUFETUUKICAgIHJlYWRtZV9wYXRoID0gb3MucGF0aC5qb2luKERTVF9ST09ULCAiUkVBRE1FLm1kIikKICAgIHdpdGggb3BlbihyZWFkbWVfcGF0aCwgInciLCBlbmNvZGluZz0idXRmLTgiLCBuZXdsaW5lPSJcbiIpIGFzIGY6CiAgICAgICAgZi53cml0ZShFRFVDQVRJT05BTF9SRUFETUUpCiAgICBwcmludCgiICBbT0tdIFJFQURNRS5tZCAoZWR1Y2F0aW9uYWwgdmVyc2lvbikiKQoKICAgICMgV3JpdGUgYSB0ZW1wbGF0ZSBzdGFydCBzY3JpcHQgKG5vIHJlYWwgcGF0aHMpCiAgICBzdGFydF90ZW1wbGF0ZSA9IG9zLnBhdGguam9pbihEU1RfUk9PVCwgInN0YXJ0X2h5YnJpZHJhZy5wczEudGVtcGxhdGUiKQogICAgd2l0aCBvcGVuKHN0YXJ0X3RlbXBsYXRlLCAidyIsIGVuY29kaW5nPSJ1dGYtOCIsIG5ld2xpbmU9IlxyXG4iKSBhcyBmOgogICAgICAgIGYud3JpdGUoJyMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuJykKICAgICAgICBmLndyaXRlKCcjIEh5YnJpZFJBRyB2MyAtIFN0YXJ0IFNjcmlwdCBURU1QTEFURVxuJykKICAgICAgICBmLndyaXRlKCcjID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbicpCiAgICAgICAgZi53cml0ZSgnIyBDb3B5IHRoaXMgZmlsZSB0byBzdGFydF9oeWJyaWRyYWcucHMxIGFuZCBlZGl0IHRoZSBwYXRocyBiZWxvdy5cbicpCiAgICAgICAgZi53cml0ZSgnIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4nKQogICAgICAgIGYud3JpdGUoJ1xuJykKICAgICAgICBmLndyaXRlKCckUFJPSkVDVF9ST09UID0gIkM6XFxwYXRoXFx0b1xcSHlicmlkUkFHMyIgICAgIyA8LS0gRURJVCBUSElTXG4nKQogICAgICAgIGYud3JpdGUoJyREQVRBX0RJUiAgICAgPSAiQzpcXHBhdGhcXHRvXFxkYXRhIiAgICAgICAgICAgIyA8LS0gRURJVCBUSElTXG4nKQogICAgICAgIGYud3JpdGUoJyRTT1VSQ0VfRElSICAgPSAiQzpcXHBhdGhcXHRvXFxzb3VyY2VfZG9jcyIgICAgIyA8LS0gRURJVCBUSElTXG4nKQogICAgICAgIGYud3JpdGUoJ1xuJykKICAgICAgICBmLndyaXRlKCdTZXQtTG9jYXRpb24gJFBST0pFQ1RfUk9PVFxuJykKICAgICAgICBmLndyaXRlKCcmICIudmVudlxcU2NyaXB0c1xcQWN0aXZhdGUucHMxIlxuJykKICAgICAgICBmLndyaXRlKCdXcml0ZS1Ib3N0ICJIeWJyaWRSQUczIHJlYWR5LiIgLUZvcmVncm91bmRDb2xvciBHcmVlblxuJykKICAgIHByaW50KCIgIFtPS10gc3RhcnRfaHlicmlkcmFnLnBzMS50ZW1wbGF0ZSIpCgogICAgIyBGaW5hbCBiYW5uZWQtd29yZCBjaGVjawogICAgcHJpbnQoKQogICAgcHJpbnQoIiAgLS0tIEJhbm5lZCBXb3JkIFNjYW4gLS0tIikKICAgICMgQmFubmVkIHdvcmRzIHdpdGggd2hldGhlciB0aGV5IG5lZWQgd29yZC1ib3VuZGFyeSBtYXRjaGluZwogICAgIyBTaG9ydCB0ZXJtcyBsaWtlIE5HQyBtYXRjaCBpbnNpZGUgY2xhc3MgbmFtZXMgKENodW5raW5nQ29uZmlnKQogICAgIyBzbyB0aGV5IG5lZWQgd29yZC1ib3VuZGFyeSByZWdleCBtYXRjaGluZwogICAgYmFubmVkID0gWwogICAgICAgICgiZGVmZW5zZSBjb250cmFjdG9yIiwgRmFsc2UpLAogICAgICAgICgiZGVmZW5zZSIsIEZhbHNlKSwKICAgICAgICAoIk5HQyIsIFRydWUpLCAgICAgICAjIHdvcmQgYm91bmRhcnkgLS0gYXZvaWQgQ2h1bmtpbmdDb25maWcgZmFsc2UgcG9zaXRpdmUKICAgICAgICAoIk5vcnRocm9wIiwgRmFsc2UpLAogICAgICAgICgiR3J1bW1hbiIsIEZhbHNlKSwKICAgICAgICAoImNsYXNzaWZpZWQiLCBUcnVlKSwgICMgd29yZCBib3VuZGFyeSAtLSBhdm9pZCAibWlzY2xhc3NpZmllZCIgZmFsc2UgcG9zaXRpdmUKICAgICAgICAoIk5JU1QgODAwLTE3MSIsIEZhbHNlKSwKICAgICAgICAoIk5JU1QgODAwLTUzIiwgRmFsc2UpLAogICAgICAgICgiTklTVCIsIFRydWUpLAogICAgICAgICgiRG9EIiwgVHJ1ZSksCiAgICAgICAgKCJDSkNTTSIsIEZhbHNlKSwKICAgICAgICAoIklUQVIiLCBUcnVlKSwKICAgICAgICAoIkNNTUMiLCBUcnVlKSwKICAgICAgICAoImNsZWFyYW5jZSIsIEZhbHNlKSwKICAgICAgICAoInJhbmRhamUiLCBGYWxzZSksCiAgICAgICAgKCJPbmVEcml2ZSAtIE5HQyIsIEZhbHNlKSwKICAgICAgICAoIkQ6XFxcXEtub3dsZWRnZUJhc2UiLCBGYWxzZSksCiAgICAgICAgKCJqZXJlbXlzbWlzc2lvbiIsIEZhbHNlKSwKICAgICAgICAoIkNsYXVkZSIsIFRydWUpLCAgICAgICAgICAjIHdvcmQgYm91bmRhcnkgLS0gYXZvaWQgImV4Y2x1ZGVkIiBmYWxzZSBwb3NpdGl2ZQogICAgICAgICgiQW50aHJvcGljIiwgRmFsc2UpLAogICAgXQogICAgZm91bmRfYW55ID0gRmFsc2UKICAgIGZvciByb290LCBkaXJzLCBmaWxlcyBpbiBvcy53YWxrKERTVF9ST09UKToKICAgICAgICBkaXJzWzpdID0gW2QgZm9yIGQgaW4gZGlycyBpZiBkICE9ICIuZ2l0Il0KICAgICAgICBmb3IgZm5hbWUgaW4gZmlsZXM6CiAgICAgICAgICAgIGZwYXRoID0gb3MucGF0aC5qb2luKHJvb3QsIGZuYW1lKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oZnBhdGgsICJyIiwgZW5jb2Rpbmc9InV0Zi04LXNpZyIpIGFzIGY6CiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IGYucmVhZCgpCiAgICAgICAgICAgIGV4Y2VwdCAoVW5pY29kZURlY29kZUVycm9yLCBQZXJtaXNzaW9uRXJyb3IpOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgZm9yIHdvcmQsIHVzZV9ib3VuZGFyeSBpbiBiYW5uZWQ6CiAgICAgICAgICAgICAgICBpZiB1c2VfYm91bmRhcnk6CiAgICAgICAgICAgICAgICAgICAgIyBVc2UgcmVnZXggd29yZCBib3VuZGFyaWVzIHRvIGF2b2lkIHN1YnN0cmluZyBtYXRjaGVzCiAgICAgICAgICAgICAgICAgICAgaWYgcmUuc2VhcmNoKHIiXGIiICsgcmUuZXNjYXBlKHdvcmQpICsgciJcYiIsIHRleHQpOgogICAgICAgICAgICAgICAgICAgICAgICByZWwgPSBvcy5wYXRoLnJlbHBhdGgoZnBhdGgsIERTVF9ST09UKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiICBbV0FSTl0gJyVzJyBmb3VuZCBpbiAlcyIgJSAod29yZCwgcmVsKSkKICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRfYW55ID0gVHJ1ZQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBpZiB3b3JkLmxvd2VyKCkgaW4gdGV4dC5sb3dlcigpOgogICAgICAgICAgICAgICAgICAgICAgICByZWwgPSBvcy5wYXRoLnJlbHBhdGgoZnBhdGgsIERTVF9ST09UKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiICBbV0FSTl0gJyVzJyBmb3VuZCBpbiAlcyIgJSAod29yZCwgcmVsKSkKICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRfYW55ID0gVHJ1ZQoKICAgIGlmIG5vdCBmb3VuZF9hbnk6CiAgICAgICAgcHJpbnQoIiAgW09LXSBObyBiYW5uZWQgd29yZHMgZm91bmQiKQoKICAgIHByaW50KCkKICAgIHByaW50KCIgIFN1bW1hcnk6ICVkIGNvcGllZCwgJWQgc2FuaXRpemVkLCAlZCBza2lwcGVkIiAlICgKICAgICAgICBzdGF0c1siY29waWVkIl0sIHN0YXRzWyJzYW5pdGl6ZWQiXSwgc3RhdHNbInNraXBwZWQiXSkpCiAgICBwcmludCgpCiAgICBwcmludCgiICBOZXh0IHN0ZXBzOiIpCiAgICBwcmludCgiICAgIGNkIEQ6XFxIeWJyaWRSQUczX0VkdWNhdGlvbmFsIikKICAgIHByaW50KCIgICAgZ2l0IGFkZCAtQSIpCiAgICBwcmludCgiICAgIGdpdCBjb21taXQgLW0gXCJJbml0aWFsIGVkdWNhdGlvbmFsIHJlbGVhc2VcIiIpCiAgICBwcmludCgiICAgIGdpdCBicmFuY2ggLU0gbWFpbiIpCiAgICBwcmludCgiICAgIGdpdCBwdXNoIC11IG9yaWdpbiBtYWluIikKICAgIHByaW50KCkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgbWFpbigpCg=="
out = os.path.join(os.path.dirname(os.path.abspath(__file__)), "tools", "sync_to_educational.py")
with open(out, "wb") as f:
    f.write(base64.b64decode(data))
print("[OK] sync_to_educational.py restored to tools/ folder")
import ast
ast.parse(open(out, encoding="utf-8").read())
print("[OK] Syntax verified clean")
