# ============================================================================
# HybridRAG3 -- Approved Requirements
# Generated: 2026-02-21
# Pin policy: Exact versions from waiver cheat sheet v4b
# openai PINNED to 1.45.1 -- never upgrade to 2.x (breaking API changes)
# xxhash ELIMINATED -- replaced by built-in hashlib
# LangChain BANNED -- dependency hell
# China-origin models EXCLUDED (Qwen, DeepSeek, BGE-M3)
# Meta Llama models BANNED (Meta AUP prohibits weapons/military use)
# ============================================================================

# -- Core AI / Model APIs --------------------------------------------------
openai==1.45.1                 # MIT -- PINNED v1.x forever; never 2.x syntax
tiktoken==0.8.0                # MIT -- OpenAI token counting (offline, no network)

# -- Embeddings / NLP ------------------------------------------------------
sentence-transformers==2.7.0   # Apache 2.0 -- Text embeddings (pinned, 3.x breaks API)
torch==2.10.0                  # BSD-3 -- PyTorch (Meta/USA, CPU-only +cpu wheel)
transformers==4.57.6           # Apache 2.0 -- HuggingFace model loading (pinned, 5.x breaks API)
tokenizers==0.22.2             # Apache 2.0 -- Fast tokenization (locked to transformers pin)
huggingface_hub==0.36.1        # Apache 2.0 -- Model downloads (one-time, then offline)
safetensors==0.7.0             # Apache 2.0 -- Safe model loading (anti-pickle security)

# -- Numerical / Scientific ------------------------------------------------
numpy==1.26.4                  # BSD-3 -- Last 1.x release (2.x has breaking changes)
scipy==1.17.0                  # BSD-3 -- Scientific computing (NumFOCUS/USA)
scikit-learn==1.8.0            # BSD-3 -- ML scoring pipeline (INRIA/France)
threadpoolctl==3.6.0           # BSD-3 -- CPU thread control (scikit-learn dep)
sympy==1.13.3                  # BSD-3 -- Symbolic math (torch dep, NumFOCUS)

# -- Vector Store -----------------------------------------------------------
faiss-cpu==1.9.0               # MIT -- Vector similarity search (Meta/USA, CPU-only)

# -- Data Validation -------------------------------------------------------
pydantic==2.11.1               # MIT -- Data validation (openai SDK dep)
typing-inspection==0.4.2       # MIT -- Pydantic dep
annotated-types==0.7.0         # MIT -- Pydantic dep
typing_extensions==4.15.0      # PSF-2.0 -- Python typing backports (PSF/USA)

# -- Document Parsers ------------------------------------------------------
pdfplumber==0.11.9             # MIT -- Primary PDF text extraction
pdfminer.six==20251230         # MIT -- PDF parsing engine (pdfplumber dep)
pypdf==6.6.2                   # BSD-3 -- PDF metadata and page counting
pypdfium2==5.3.0               # Apache 2.0 -- Fast PDF rendering (Google PDFium engine)
python-docx==1.2.0             # MIT -- Word .docx reader
python-pptx==1.0.2             # MIT -- PowerPoint .pptx reader
openpyxl==3.1.5                # MIT -- Excel .xlsx reader
xlsxwriter==3.2.9              # BSD-2 -- Excel .xlsx writer
lxml==6.0.2                    # BSD-3 -- XML/HTML parsing (Office XML dep)
et_xmlfile==2.0.0              # MIT -- XML utility (openpyxl dep)
pillow==12.1.0                 # HPND -- Image processing

# -- HTTP / Networking ------------------------------------------------------
httpx==0.28.1                  # BSD-3 -- Async HTTP client (openai SDK dep)
requests==2.32.5               # Apache 2.0 -- HTTP client (pip dep, likely pre-installed)
urllib3==2.6.3                  # MIT -- HTTP internals (requests dep, likely pre-installed)
sniffio==1.3.1                 # MIT -- Async detection (httpx dep)
cryptography==44.0.2           # Apache 2.0 -- AES-256 encryption (pip dep, likely pre-installed)

# -- Web Server / API ---------------------------------------------------------
fastapi==0.115.0               # MIT -- REST API framework (Tiangolo/USA)
uvicorn==0.41.0                # BSD-3 -- ASGI server (Encode/UK)
starlette==0.38.6              # BSD-3 -- ASGI toolkit (fastapi dep, DoS fix in 0.38.2+)
python-multipart==0.0.22       # Apache 2.0 -- Form data parsing (fastapi dep)
click==8.3.1                   # BSD-3 -- CLI toolkit (uvicorn dep, Pallets/USA)

# -- Configuration / Logging ------------------------------------------------
pyyaml==6.0.2                  # MIT -- YAML parsing (ALREADY APPROVED in store)
structlog==24.4.0              # MIT -- Structured JSON logging for audit trails
rich==13.9.4                   # MIT -- Terminal formatting (display-only)
tqdm==4.67.3                   # MIT -- Progress bars (display-only)
regex==2026.1.15               # Apache 2.0 -- Enhanced regex (text processing)
